<app-menu></app-menu>
<div class="container">
    <mat-toolbar color="accent">
        <span>Consulta de Tesis</span>
      </mat-toolbar>

    <div class="col-12">
        <mat-form-field class="col-3">
            <mat-label>Titulo</mat-label>
            <input  matInput [(ngModel)] ="titulo" >
        </mat-form-field>

        <mat-form-field class="col-3">
            <mat-label>Tema</mat-label>
            <input  matInput [(ngModel)] ="tema">
        </mat-form-field>
        <mat-form-field class="col-3">
            <mat-label>Alumno</mat-label>
            <mat-select [(ngModel)] ="selAlumno">
            <mat-option value="-1"> [Seleccione] </mat-option>
            <ng-container *ngFor="let aux of nom_alu">
                <mat-option value="{{ aux.idAlumno }}">{{aux.apellidos+", "}}{{aux.nombres}}</mat-option>
            </ng-container>
            </mat-select>
        </mat-form-field> 
        <!--
        <mat-checkbox class="example-margin" [(ngModel)]= "estado" checked  class="col-3">Estado
        </mat-checkbox>-->

        <button mat-raised-button type="submit" color="primary" (click)="consultaTesis()" >Filtrar</button>
         
   </div>

    <mat-table class="mat-elevation-z8" [dataSource]="dataSource" style="width: 100%;">
      <ng-container matColumnDef="idTesis">
        <th mat-header-cell *matHeaderCellDef  style="width: 30%;">ID</th>
        <td mat-cell *matCellDef="let aux" style="width: 30%;">{{ aux.idTesis }}</td>
      </ng-container>
      <ng-container matColumnDef="titulo">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Titulo</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.titulo }}</td>
      </ng-container>
      <ng-container matColumnDef="tema">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Tema</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.tema }}</td>
      </ng-container>
      <ng-container matColumnDef="fechaCreacion">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Fecha de Creacion</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.fechaCreacion | date}}</td>
      </ng-container>
      <ng-container matColumnDef="fechaRegistro">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Fecha de Registro</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.fechaRegistro | date}}</td>
      </ng-container>
      <ng-container matColumnDef="alumno">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Pais</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.alumno?.apellidos+", "}}{{ aux.alumno?.nombres}}</td>
      </ng-container>
      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef style="width: 100%">Estado</th>
        <td mat-cell *matCellDef="let aux" style="width: 100%">{{ aux.estado == 1 ? "Activo" : "Inactivo" }}</td>
      </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons></mat-paginator>


<!--

        <div class="submit-form">
            <div class="row" style="margin-top: 3%">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Titulo</th>
                            <th>Tema</th>
                            <th>Fecha de Creacion</th>
                            <th>Fecha de Registro</th>
                            <th>Alumno</th>
                            <th>Estado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let x of tesis" >
                            <td>{{ x.idTesis}}</td>
                            <td>{{ x.titulo}}</td>
                            <td>{{ x.tema}}</td>
                            <td>{{ x.fechaCreacion}}</td>
                            <td>{{ x.fechaRegistro}}</td>
                            <td>{{ x.alumno?.apellidos+", "}}{{ x.alumno?.nombres}}</td>
                            <td>{{ x.estado ==1? "Activo": "Inactivo"}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>-->
</div>